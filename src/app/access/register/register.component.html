<div class="container">
    <h4 *ngIf="error" class="error">An unexpected error ocurred.</h4>
    <mat-card>
      <div class="register-form">
        <mat-card-content>
          <form [formGroup]="registerForm"
                (ngSubmit)="onSubmit()">
  
            <div class="name">
              <mat-form-field appearance="outline" color="accent">
                <mat-label>First Name:</mat-label>
                <input matInput type="text" id="first-name" name="firstName" maxlength="20"
                [formControl]="registerForm.controls['firstName']" required>
                <mat-error *ngIf="registerForm.controls['firstName'].invalid">{{getFirstNameError()}}</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline" color="accent">
                <mat-label>Last Name:</mat-label>
                <input matInput type="text" id="last-name" name="lastName" maxlength="20"
                [formControl]="registerForm.controls['lastName']" required>
                <mat-error *ngIf="registerForm.controls['lastName'].invalid">{{getLastNameError()}}</mat-error>
              </mat-form-field>
            </div>
  
            <div class="contact">
              <mat-form-field class="register-field" appearance="outline" color="accent">
                <mat-label>Email:</mat-label>
                <input matInput type="text" id="email" name="email"
                    placeholder="example@example.com" [formControl]="registerForm.controls['email']" required>
                <mat-icon matSuffix>mail</mat-icon>
                <mat-error *ngIf="registerForm.controls['email'].invalid">{{getEmailError()}}</mat-error>
                <mat-hint *ngIf="!isUniqueEmail" class="error">This email is already in use</mat-hint>
              </mat-form-field>
              <mat-form-field class="register-field" appearance="outline" color="accent">
                <mat-label>Phone:</mat-label>
                <input matInput type="tel" id="phone" name="phone" mask="(000) 000-0000" [showMaskTyped] = "false"
                  placeholder="(xxx) xxx-xxxx"[formControl]="registerForm.controls['phone']" >
                <mat-icon matSuffix>phone</mat-icon>
              </mat-form-field>
            </div>
  
            <div class="pass">
              <mat-form-field class="register-field" appearance="outline" color="accent">
                <mat-label>New Password:</mat-label>
                <input matInput id="new-password" name="new-password" [type]="hide ? 'password' : 'text'"
                      [formControl]="registerForm.controls['new-password']" required>
                <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                <mat-error *ngIf="registerForm.controls['new-password'].hasError('minlength')">Password must be at least {{passwordMinLength}} characters</mat-error>
              </mat-form-field>
  
              <mat-form-field class="register-field" appearance="outline" color="accent">
                <mat-label>Confirm Password:</mat-label>
                <input matInput id="confirm-password" name="confirm-password" [type]="hideConfirm ? 'password' : 'text'"
                      [formControl]="registerForm.controls['confirm-password']" required>
                <mat-icon matSuffix (click)="hideConfirm = !hideConfirm">{{hideConfirm ? 'visibility_off' : 'visibility'}}</mat-icon>
                <mat-error>Passwords must match</mat-error>
              </mat-form-field>
            </div>
  
            <button mat-raised-button class="submit" color="primary" [disabled]="!registerForm.valid">Register</button>
          </form>
        </mat-card-content>
      </div>
    </mat-card>
  </div>